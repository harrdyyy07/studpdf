<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mathematics For CSE Dashboard | StudPDF</title>
    <link rel="stylesheet" href="../../../styles.css">
</head>

<body>
    <nav id="navbar"></nav>

    <main class="container" style="padding-top: 8rem; padding-bottom: 8rem;">
        <div class="breadcrumb">
            <a href="../../../index.html">üè†</a>
            <span class="breadcrumb-separator">/</span>
            <a href="../../index.html">First Year</a>
            <span class="breadcrumb-separator">/</span>
            <a href="../index.html">Sem 1</a>
            <span class="breadcrumb-separator">/</span>
            <span>Maths</span>
        </div>

        <!-- Dashboard Header (Image 1 style) -->
        <header class="dash-header">
            <div class="dash-info">
                <h1>Mathematics For <span style="color: var(--accent-purple);">CSE</span></h1>
                <div style="display: flex; gap: 1rem;">
                    <span class="badge badge-outline">2022 Scheme</span>
                    <span class="badge badge-outline">Updated 2024</span>
                </div>
            </div>
            <div class="file-count-card">
                <span id="total-files" class="file-count-num">0</span>
                <span class="file-count-label">Files</span>
            </div>
        </header>

        <!-- Summary Grid -->
        <div class="summary-grid">
            <div class="summary-card glass" style="border-radius: 1.5rem;">
                <div class="summary-icon" style="background: rgba(59, 130, 246, 0.1); color: var(--accent-blue);">üìÑ
                </div>
                <div class="summary-details">
                    <h4 id="notes-count">0</h4>
                    <span>Notes</span>
                </div>
            </div>
            <div class="summary-card glass" style="border-radius: 1.5rem;">
                <div class="summary-icon" style="background: rgba(168, 85, 247, 0.1); color: var(--accent-purple);">üèõÔ∏è
                </div>
                <div class="summary-details">
                    <h4 id="pyqp-count">0</h4>
                    <span>PYQs</span>
                </div>
            </div>
            <div class="summary-card glass" style="border-radius: 1.5rem;">
                <div class="summary-icon" style="background: rgba(34, 197, 94, 0.1); color: #22c55e;">‚úÖ</div>
                <div class="summary-details">
                    <h4 id="solved-count">0</h4>
                    <span>Solved</span>
                </div>
            </div>
            <div class="summary-card glass" style="border-radius: 1.5rem;">
                <div class="summary-icon" style="background: rgba(244, 63, 94, 0.1); color: var(--accent-red);">üî•</div>
                <div class="summary-details">
                    <h4 id="important-count">0</h4>
                    <span>Important</span>
                </div>
            </div>
        </div>

        <!-- Filters -->
        <div class="tab-filter">
            <button class="tab-btn active" onclick="filterModules('All', this)">All</button>
            <button class="tab-btn" onclick="filterModules('Notes', this)">Notes</button>
            <button class="tab-btn" onclick="filterModules('PYQP', this)">Question Papers</button>
            <button class="tab-btn" onclick="filterModules('Important', this)">Important Qs</button>
            <button class="tab-btn" onclick="filterModules('Solved', this)">Solved Papers</button>
        </div>

        <!-- Modules Grid -->
        <div id="module-grid" class="module-grid">
            <!-- Modules injected here -->
        </div>
    </main>

    <script src="../../../data.js"></script>
    <script src="../../../auth.js"></script>
    <script src="../../../nav.js"></script>
    <script src="../../../search.js"></script>
    <script>
        const subjectData = siteData.firstyear.semesters.find(s => s.sem === 1).subjects.find(sub => sub.slug === 'mathematics-for-cse');
        const modules = subjectData.modules;
        const grid = document.getElementById('module-grid');

        // Update stats
        document.getElementById('total-files').innerText = modules.length;
        document.getElementById('notes-count').innerText = modules.filter(m => m.type === 'Notes').length;

        function renderModules(filtered) {
            grid.innerHTML = '';
            filtered.forEach(m => {
                const card = document.createElement('div');
                card.className = 'module-card glass';
                card.style.borderRadius = '1.5rem';
                card.innerHTML = `
                    <div class="module-top">
                        <div class="module-icon-box">üìñ</div>
                        ${m.essential ? '<span class="badge badge-essential">ESSENTIAL</span>' : ''}
                    </div>
                    <h3>${m.name}</h3>
                    <p>${m.desc}</p>
                    <div class="module-meta">
                        <span style="display: flex; align-items: center; gap: 0.4rem;">üíæ ${m.size}</span>
                        <span style="display: flex; align-items: center; gap: 0.4rem;">‚è∞ ${m.date}</span>
                    </div>
                    <div class="module-actions">
                        <a href="${m.link}" class="btn-download">Download</a>
                        <a href="${m.link}" class="btn-outline">Preview</a>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function filterModules(type, btn) {
            // Update UI
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');

            if (type === 'All') {
                renderModules(modules);
            } else {
                renderModules(modules.filter(m => m.type === type));
            }
        }

        renderModules(modules);
    </script>
</body>

</html>